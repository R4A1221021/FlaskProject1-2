{% extends "layout.html" %}

{% block title %}緊急SOS発信{% endblock %}

{% block content %}
<div class="flex flex-col items-center justify-center h-full text-center">

    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                {% if category == 'danger' %}
                <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4 w-full max-w-md" role="alert">
                    <strong class="font-bold">送信完了:</strong>
                    <span class="block sm:inline">{{ message }}</span>
                </div>
                {% endif %}
            {% endfor %}
        {% endif %}
    {% endwith %}

    <form method="POST" action="{{ url_for('send_sos') }}">
        
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>

        <button type="submit" class="bg-white p-10 rounded-full shadow-2xl w-56 h-56 flex items-center justify-center border-8 border-red-500 transform hover:scale-105 transition-transform cursor-pointer">
            <h2 class="text-3xl font-extrabold text-red-600">SOS発信</h2>
        </button>
    </form>

    <p class="mt-8 text-lg text-gray-600 font-medium">
        位置情報と安否状況を救助チームに即座に送信します。
    </p>
</div>
{% endblock %}